{"version":3,"sources":["server/schema/queries/message.js"],"names":["message","type","args","q","resolve","_","options","JSON","parse","list","then","messages","error","e","newMessage","u","findOneAsync","userId","user","query","toUser","id","state","groups","i","length","push","toGroup","time","$gt","read","console","log","$or"],"mappings":";;;;;;;AAAA;;AACA;;AAKA;;AACA;;AAIA;;;;;;AAEO,IAAMA,4BAAU;AACrBC,QAAM,iDADe;AAErBC,QAAK;AACJC,OAAE;AACDF;AADC;AADE,GAFgB;AAOrBG,SAPqB,mBAObC,CAPa,QAON;AAAA,QAAJF,CAAI,QAAJA,CAAI;;AACd,QAAMG,UAAUC,KAAKC,KAAL,CAAWL,CAAX,CAAhB;AACA,WAAO,cAAQM,IAAR,CAAaH,OAAb,EAAsBI,IAAtB,CAA2B,UAACC,QAAD;AAAA,aAAcA,QAAd;AAAA,KAA3B,EACHC,KADG,CACG,UAACC,CAAD,EAAO,CAAE,CADZ,CAAP;AAEA;AAXoB,CAAhB;;AAcA,IAAMC,kCAAa;AACxBb,QAAM,iDADkB;AAExBC,QAAK;AACHa,OAAE;AACAd;AADA;AADC,GAFmB;AAOxBG,SAPwB,mBAOhBC,CAPgB,SAOT;AAAA,QAAJU,CAAI,SAAJA,CAAI;;AACb,WAAO,WAAKC,YAAL,CAAkB,EAACC,QAAOF,CAAR,EAAlB,EAA8BL,IAA9B,CAAmC,UAACQ,IAAD,EAAQ;AAChD,UAAGA,IAAH,EAAQ;AACN,YAAIC,QAAQ,CAAC,EAACC,QAAOF,KAAKG,EAAb,EAAgBC,OAAM,CAAtB,EAAD,CAAZ;AACA,YAAGJ,KAAKK,MAAR,EAAe;AACb,eAAI,IAAIC,IAAI,CAAZ,EAAeA,IAAIN,KAAKK,MAAL,CAAYE,MAA/B,EAAsCD,GAAtC,EAA2C;AACzCL,kBAAMO,IAAN,CAAW,EAACC,SAAQT,KAAKK,MAAL,CAAYC,CAAZ,CAAT,EAAwBI,MAAK,EAACC,KAAIX,KAAKY,IAAL,CAAUN,CAAV,KAAc,CAAnB,EAA7B,EAAX;AACA;AACD;AACF;AACDO,gBAAQC,GAAR,CAAYb,KAAZ;AACA,eAAO,cAAQV,IAAR,CAAa,EAACwB,KAAId,KAAL,EAAb,EAA0BT,IAA1B,CAA+B,UAACC,QAAD,EAAc;AAACoB,kBAAQC,GAAR,CAAY,KAAZ,EAAkBrB,QAAlB,EAA6B,OAAOA,QAAP;AAAgB,SAA3F,EACJC,KADI,CACE,UAACC,CAAD,EAAO,CAAE,CADX,CAAP;AAED,OAXD,MAWK;AACH,eAAO,EAAP;AACD;AACF,KAfM,CAAP;AAgBD;AAxBuB,CAAnB","file":"message.js","sourceRoot":"../../../../../../.."}