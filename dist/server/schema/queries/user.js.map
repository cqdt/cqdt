{"version":3,"sources":["server/schema/queries/user.js"],"names":["vn","locdau","str","i","length","j","replace","toLowerCase","compareText","a","b","indexOf","_id","na","nickName","nb","last","split","sortUser","us","sort","users","type","args","q","resolve","_","options","JSON","parse","list","then","error","e","user","findOneAsync","userId","userById","get","login","u","m","y","month","year","result","fD","Date","first","getFullYear","index","monthdiff","getTime","k","console","log","logins","findAsync","$in","forEach","ur","username","push","ar","chunk"],"mappings":"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","file":"user.js","sourceRoot":"../../../../../../.."}